@page
@model EmployeePortal.Pages.Registration.EmployeeListModel
@{
    ViewData["Title"] = "Employee List";
}

<h2>Employee List</h2>

<form method="get">
    <div>
        <label for="SearchTerm">Search:</label>
        <input type="text" id="SearchTerm" name="SearchTerm" value="@Request.Query["SearchTerm"]" />
    </div>
    <button type="submit">Search</button>
</form>

<div class="scrollable">
    <table class="table">
        <thead>
            <tr>
                <th>GGID</th>
                <th>Emp ID</th>
                <th>Resource</th>
                <th>Email</th>
                <th>Grade</th>
                <th>GlobalGrade</th>
                <th>Gender</th>
                <th>BU</th>
                <th>Date of Hire</th>
                <th>Overall Experience</th>
                <th>Skills</th>
                <th>Certificates</th>
                <th>Actions</th>

                <th>Type</th>
                <th>Tower</th>
                <th>ABLGBL</th>
                <th>TL Name</th>
                <th>GBL Lead</th>
                <th>Project Code</th>
                <th>Project Name</th>
                <th>PO Number</th>
                <th>POD Name</th>
                <th>Altria POD Owner</th>
                <th>ALCS Director</th>
                <th>Active in Project</th>
                <th>Location</th>
                <th>Offshore City</th>
                <th>Offshore Backup</th>
                <th>SL</th>
                <th>New</th>
                <th>Transition</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>COR</th>
                <th>Group</th>
                <th>January</th>
                <th>February</th>
                <th>March</th>
                <th>April</th>
                <th>May</th>
                <th>June</th>
                <th>July</th>
                <th>August</th>
                <th>September</th>
                <th>October</th>
                <th>November</th>
                <th>December</th>
                <th>Monthly Price</th>
                <th>Altria EXP</th>
                <th>Role in POD</th>
                <th>Actions</th>
            </tr>

        </thead>
        <tbody>
            @if (Model.Employees.Any())
            {
                @foreach (var employee in Model.Employees)
                {
                    <tr>
                        <td>@employee.GGID</td>
                        <td>@employee.EmpId</td>
                        <td>@employee.Resource</td>
                        <td>@employee.Email</td>
                        <td>@employee.Grade</td>
                        <td>@employee.GlobalGrade</td>
                        <td>@employee.Gender</td>
                        <td>@employee.BU</td>
                        <td>@employee.DateOfHire.ToShortDateString()</td>
                        <td>@employee.OverallExp</td>
                        <td>@employee.Skills</td>
                        <td>@employee.Certificates</td>


                        <td>@employee.Type</td>
                        <td>@employee.Tower</td>
                        <td>@employee.ABLGBL</td>
                        <td>@employee.TLName</td>
                        <td>@employee.GBL_Lead</td>
                        <td>@employee.ProjectCode</td>
                        <td>@employee.ProjectName</td>
                        <td>@employee.PONumber</td>
                        <td>@employee.PODName</td>
                        <td>@employee.AltriaPODOwner</td>
                        <td>@employee.ALCSDirector</td>
                        <td>@employee.IsActiveInProject</td>
                        <td>@employee.Location</td>
                        <td>@employee.OffshoreCity</td>
                        <td>@employee.OffshoreBackup</td>
                        <td>@employee.SL</td>
                        <td>@employee.New</td>
                        <td>@employee.Transition</td>
                        <td>@employee.StartDate.ToShortDateString()</td>
                        <td>@employee.EndDate.ToShortDateString()</td>
                        <td>@employee.COR</td>
                        <td>@employee.Group</td>
                        <td>@employee.January</td>
                        <td>@employee.February</td>
                        <td>@employee.March</td>
                        <td>@employee.April</td>
                        <td>@employee.May</td>
                        <td>@employee.June</td>
                        <td>@employee.July</td>
                        <td>@employee.August</td>
                        <td>@employee.September</td>
                        <td>@employee.October</td>
                        <td>@employee.November</td>
                        <td>@employee.December</td>
                        <td>@employee.MonthlyPrice</td>
                        <td>@employee.AltriaEXP</td>
                        <td>@employee.RoleinPOD</td>
                        
                        <td>
                            <a asp-page="/Registration/EditEmployee" asp-route-id="@employee.EmpId" class="btn btn-primary">Edit</a>
                            <form method="post" asp-page-handler="Delete" asp-route-id="@employee.EmpId" style="display:inline;">
                                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this employee?')">Delete</button>
                            </form>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr><td colspan="26">No employees found matching the search criteria.</td></tr>
            }
        </tbody>
    </table>
</div>
 <a asp-page="/Registration/Registration" class="btn btn-success">Add New Employee</a>
